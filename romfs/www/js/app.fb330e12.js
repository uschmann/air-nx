(function(e){function t(t){for(var o,r,l=t[0],d=t[1],s=t[2],u=0,m=[];u<l.length;u++)r=l[u],i[r]&&m.push(i[r][0]),i[r]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);c&&c(t);while(m.length)m.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var d=n[l];0!==i[d]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06ae":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed"}},[n("md-app-toolbar",{staticClass:"md-primary toolbar"},[n("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.showNavigation=!0}}},[n("md-icon",[e._v("menu")])],1),n("span",{staticClass:"md-title"},[e._v("Air-NX")])],1),n("md-app-drawer",{staticClass:"drawer",attrs:{"md-active":e.showNavigation},on:{"update:mdActive":function(t){e.showNavigation=t}}},[n("md-toolbar",{attrs:{"md-elevation":"0"}},[n("span",{staticClass:"md-title"},[e._v("Air-NX")])]),n("md-list",[n("md-list-item",[n("md-icon",[e._v("sd_card")]),n("router-link",{staticClass:"md-list-item-text",attrs:{to:"/files"}},[e._v("SD-Card")])],1)],1)],1),n("md-app-content",[n("div",{staticClass:"wrapper"},[n("router-view")],1)])],1)],1)},a=[],r={name:"App",data:function(){return{showNavigation:!1}}},l=r,d=(n("8dec"),n("2877")),s=Object(d["a"])(l,i,a,!1,null,"04b8d6c5",null);s.options.__file="App.vue";var c=s.exports,u=n("43f9"),m=n.n(u),f=(n("51de"),n("e094"),n("8c4f")),p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:n("cf05")}})])}],v={name:"home",components:{}},_=v,w=Object(d["a"])(_,p,h,!1,null,null,null);w.options.__file="Home.vue";var b=w.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-toolbar",{attrs:{"md-elevation":1}},[n("div",{staticClass:"md-toolbar-section-start"},[n("md-button",{on:{click:function(t){e.back()}}},[n("md-icon",[e._v("arrow_back")]),e._v("Back\n            ")],1)],1),n("div",{staticClass:"md-toolbar-section-end"},[n("md-menu",{attrs:{"md-direction":"bottom-start"}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("md-icon",[e._v("more_vert")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:function(t){e.makeFolder()}}},[n("span",[e._v("New folder")]),n("md-icon",[e._v("folder")])],1),n("md-menu-item",{on:{click:function(t){e.upload()}}},[n("span",[e._v("Upload file")]),n("md-icon",[e._v("cloud_upload")])],1)],1)],1)],1)]),n("md-subheader",[n("span",{staticClass:"md-title"},[e._v(e._s(e.currentDir))])]),e.isLoading?n("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}}):e.files.length>0?n("div",[n("md-list",e._l(e.files,function(t){return n("md-list-item",{key:t.path,on:{click:function(n){e.fileClicked(t)}}},[n("md-icon",{staticClass:"md-primary"},[e._v("\n                    "+e._s(t.is_directory?"folder":"insert_drive_file")+"\n                ")]),n("div",{staticClass:"md-list-item-text"},[n("span",[e._v(e._s(t.name))]),n("span",[e._v(e._s(t.is_directory?"Folder":t.extension))])]),n("md-menu",{attrs:{"md-direction":"bottom-start"},on:{click:function(e){e.stopPropagation()}}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("md-icon",[e._v("more_vert")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:function(n){e.deleteFile(t)}}},[n("span",[e._v("Delete")]),n("md-icon",[e._v("delete")])],1)],1)],1)],1)}))],1):n("div",[n("md-empty-state",{attrs:{"md-icon":"folder_open","md-label":"This folder is empty"}})],1),n("md-dialog-prompt",{attrs:{"md-active":e.showNewFolderModal,"md-title":"New Folder?","md-input-maxlength":"256","md-input-placeholder":"Name of the folder","md-confirm-text":"Create folder"},on:{"update:mdActive":function(t){e.showNewFolderModal=t},"md-confirm":function(t){e.createFolder()}},model:{value:e.newFolderName,callback:function(t){e.newFolderName=t},expression:"newFolderName"}}),n("md-dialog-confirm",{attrs:{"md-active":e.showDeleteModal,"md-title":"Delete?","md-content":"Do you really want to delete the file?","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.showDeleteModal=t},"md-cancel":e.onDeleteCancel,"md-confirm":e.onDeleteConfirm}}),n("md-dialog",{attrs:{"md-active":e.showUploadModal},on:{"update:mdActive":function(t){e.showUploadModal=t}}},[n("md-dialog-title",[e._v("Upload")])],1)],1)},D=[],y=(n("aef6"),n("bc3a")),C=n.n(y),k={name:"files",components:{},data:function(){return{currentDir:"/",isLoading:!1,files:null,showNewFolderModal:!1,newFolderName:"",showDeleteModal:!1,fileToDelete:null,showUploadModal:!1}},computed:{parentDir:function(){return this.currentDir.substr(0,this.currentDir.lastIndexOf("/"))}},methods:{load:function(e){var t=this;e||(e="/"),this.isLoading=!0,C.a.get("api/file?dir=".concat(e)).then(function(n){t.files=n.data,t.currentDir=e,t.isLoading=!1})},fileClicked:function(e){e.is_directory?this.load(e.path):window.open("/download"+e.path,"_blank")},back:function(){this.load(this.parentDir)},makeFolder:function(){this.newFolderName="",this.showNewFolderModal=!0},createFolder:function(){var e=this,t=this.currentDir;t.endsWith("/")||(t+="/"),C.a.get("api/directory?path=".concat(t).concat(this.newFolderName)).then(function(t){e.files.push(t.data)})},deleteFile:function(e){this.fileToDelete=e,this.showDeleteModal=!0},onDeleteCancel:function(){this.fileToDelete=null,this.showDeleteModal=!1},onDeleteConfirm:function(){var e=this;C.a.delete("api/file?path=".concat(this.fileToDelete.path)).then(function(t){e.files=e.files.filter(function(e){return e.path!=t.data.path})})},upload:function(){this.showUploadModal=!0}},mounted:function(){this.load(this.currentDir)}},x=k,F=Object(d["a"])(x,g,D,!1,null,null,null);F.options.__file="Files.vue";var N=F.exports;o["default"].use(f["a"]);var M=new f["a"]({routes:[{path:"/",name:"home",component:b},{path:"/files",name:"about",component:N}]});o["default"].config.productionTip=!1,o["default"].use(m.a),new o["default"]({router:M,render:function(e){return e(c)}}).$mount("#app")},"8dec":function(e,t,n){"use strict";var o=n("06ae"),i=n.n(o);i.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.fb330e12.js.map