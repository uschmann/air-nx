(function(t){function e(e){for(var o,r,l=e[0],d=e[1],s=e[2],u=0,m=[];u<l.length;u++)r=l[u],a[r]&&m.push(a[r][0]),a[r]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(t[o]=d[o]);c&&c(e);while(m.length)m.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,l=1;l<n.length;l++){var d=n[l];0!==a[d]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={app:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var c=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0fc0":function(t,e,n){"use strict";var o=n("8229"),a=n.n(o);a.a},"4bf4":function(t,e,n){"use strict";var o=n("e49c"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed"}},[n("md-app-toolbar",{staticClass:"md-primary toolbar"},[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showNavigation=!0}}},[n("md-icon",[t._v("menu")])],1),n("span",{staticClass:"md-title"},[t._v("Air-NX")])],1),n("md-app-drawer",{staticClass:"drawer",attrs:{"md-active":t.showNavigation},on:{"update:mdActive":function(e){t.showNavigation=e}}},[n("md-toolbar",{attrs:{"md-elevation":"0"}},[n("span",{staticClass:"md-title"},[t._v("Air-NX")])]),n("md-list",[n("md-list-item",[n("md-icon",[t._v("sd_card")]),n("router-link",{staticClass:"md-list-item-text",attrs:{to:"/files"}},[t._v("SD-Card")])],1),n("md-list-item",{on:{click:t.exit}},[n("md-icon",[t._v("exit_to_app")]),n("span",{staticClass:"md-list-item-text"},[t._v("Exit to hb-menu")])],1)],1)],1),n("md-app-content",[n("div",{staticClass:"wrapper"},[n("router-view")],1)])],1)],1)},i=[],r=n("bc3a"),l=n.n(r),d={name:"App",data:function(){return{showNavigation:!1}},methods:{exit:function(){l.a.get("/api/exit"),alert("Air-NX has been closed. You will need to restart it to continue.")}}},s=d,c=(n("4bf4"),n("2877")),u=Object(c["a"])(s,a,i,!1,null,"5fe9d250",null);u.options.__file="App.vue";var m=u.exports,f=n("43f9"),p=n.n(f),h=(n("51de"),n("e094"),n("8c4f")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item"},[n("md-card",[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("Welcome to Air-NX")]),n("div",{staticClass:"md-subhead"},[t._v("Version: 1.0")])])],1),n("md-card-content",[t._v("\n          I hope you enjoy to use Air-NX."),n("br"),t._v("\n          Please feel free to report any issues you may have"),n("br"),t._v("\n          on github.\n        ")]),n("md-card-actions",[n("md-button",[n("md-icon",[t._v("link")]),n("a",{attrs:{href:"https://github.com/uschmann/air-nx",target:"_blank"}},[t._v("Visit Air-NX on github")])],1)],1)],1)],1),n("div",{staticClass:"md-layout-item"},[n("md-card",[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("Manage SD-Card")])])],1),n("md-card-content",[t._v("\n        Browse files on your SD-Card. Easilly upload files to the SD-Card by dragging them into the browser window.\n      ")]),n("md-card-actions",[n("md-button",[n("router-link",{staticClass:"md-list-item-text",attrs:{to:"/files"}},[t._v("Manage SD-Card now")])],1)],1)],1)],1)])])},_=[],g={name:"home",components:{}},b=g,w=Object(c["a"])(b,v,_,!1,null,null,null);w.options.__file="Home.vue";var y=w.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{dragover:function(t){t.preventDefault()},drop:t.onFileDrop}},[n("md-toolbar",{attrs:{"md-elevation":1}},[n("div",{staticClass:"md-toolbar-section-start"},[n("md-button",{on:{click:function(e){t.back()}}},[n("md-icon",[t._v("arrow_back")]),t._v("Back\n            ")],1)],1),n("div",{staticClass:"md-toolbar-section-end"},[n("md-menu",{attrs:{"md-direction":"bottom-start"}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("md-icon",[t._v("more_vert")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:function(e){t.makeFolder()}}},[n("span",[t._v("New folder")]),n("md-icon",[t._v("folder")])],1),n("md-menu-item",{on:{click:t.openUploadModal}},[n("span",[t._v("Upload file")]),n("md-icon",[t._v("cloud_upload")]),n("input",{staticStyle:{display:"none"},attrs:{id:"fileInput",multiple:"multiple",type:"file"},on:{change:t.onFileSelected}})],1)],1)],1)],1)]),n("md-subheader",[n("span",{staticClass:"md-title"},[t._v(t._s(t.currentDir))])]),t.isLoading?n("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}}):t.files.length>0?n("div",[n("md-list",t._l(t.files,function(e){return n("md-list-item",{key:e.path,on:{click:function(n){t.fileClicked(e)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("\n                    "+t._s(e.is_directory?"folder":"insert_drive_file")+"\n                ")]),n("div",{staticClass:"md-list-item-text"},[n("span",[t._v(t._s(e.name))]),n("span",[t._v(t._s(e.is_directory?"Folder":e.extension))])]),n("md-menu",{attrs:{"md-direction":"bottom-start"},on:{click:function(t){t.stopPropagation()}}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("md-icon",[t._v("more_vert")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:function(n){t.deleteFile(e)}}},[n("span",[t._v("Delete")]),n("md-icon",[t._v("delete")])],1)],1)],1)],1)}))],1):n("div",[n("md-empty-state",{attrs:{"md-icon":"folder_open","md-label":"This folder is empty"}})],1),n("md-dialog-prompt",{attrs:{"md-active":t.showNewFolderModal,"md-title":"New Folder?","md-input-maxlength":"256","md-input-placeholder":"Name of the folder","md-confirm-text":"Create folder"},on:{"update:mdActive":function(e){t.showNewFolderModal=e},"md-confirm":function(e){t.createFolder()}},model:{value:t.newFolderName,callback:function(e){t.newFolderName=e},expression:"newFolderName"}}),n("md-dialog-confirm",{attrs:{"md-active":t.showDeleteModal,"md-title":"Delete?","md-content":"Do you really want to delete the file?","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(e){t.showDeleteModal=e},"md-cancel":t.onDeleteCancel,"md-confirm":t.onDeleteConfirm}}),n("md-dialog",{attrs:{"md-active":t.filesToUpload.length>0}},[n("md-dialog-title",[t._v("Upload")]),n("div",{staticClass:"upload-modal"},[t.filesToUpload.length>0?n("md-content",[n("h1",{staticClass:"md-title"},[t._v(t._s(t.filesToUpload[0].name))]),n("p",{staticClass:"md-subheading"},[t._v(t._s(t.uploadProgress)+"%")]),n("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"determinate","md-value":t.uploadProgress}}),n("p",[n("strong",[t._v(t._s(t.filesToUpload.length))]),t._v(" files left.")])],1):t._e()],1)],1)],1)},D=[],x=(n("7f7f"),n("aef6"),{name:"files",components:{},data:function(){return{currentDir:"/",isLoading:!1,files:[],showNewFolderModal:!1,newFolderName:"",showDeleteModal:!1,fileToDelete:null,showUploadModal:!1,filesToUpload:[],uploadProgress:0}},computed:{parentDir:function(){return this.currentDir.substr(0,this.currentDir.lastIndexOf("/"))}},methods:{load:function(t){var e=this;t||(t="/"),this.isLoading=!0,l.a.get("api/file?dir=".concat(t)).then(function(n){e.files=n.data,e.currentDir=t,e.isLoading=!1})},fileClicked:function(t){t.is_directory?this.load(t.path):window.open("/download"+t.path,"_blank")},back:function(){this.load(this.parentDir)},makeFolder:function(){this.newFolderName="",this.showNewFolderModal=!0},createFolder:function(){var t=this,e=this.currentDir;e.endsWith("/")||(e+="/"),l.a.get("api/directory?path=".concat(e).concat(this.newFolderName)).then(function(e){t.files.push(e.data)})},deleteFile:function(t){this.fileToDelete=t,this.showDeleteModal=!0},onDeleteCancel:function(){this.fileToDelete=null,this.showDeleteModal=!1},onDeleteConfirm:function(){var t=this;l.a.delete("api/file?path=".concat(this.fileToDelete.path)).then(function(e){t.files=t.files.filter(function(t){return t.path!=e.data.path})})},upload:function(){var t=this;t.uploadProgress=0;var e={onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);t.uploadProgress=n}},n=new FormData;n.append("file",this.filesToUpload[0]);var o=this.currentDir;o.endsWith("/")||(o+="/"),o+=this.filesToUpload[0].name,l.a.put("/api/upload?path=".concat(o),n,e).then(function(e){t.files.push(e.data),t.filesToUpload.shift(),t.filesToUpload.length>0&&t.upload()}).catch(function(t){return console.log(t)})},onFileDrop:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;console.log(e);for(var n=0;n<e.length;n++)this.filesToUpload.push(e[n]);this.upload()},onFileSelected:function(t,e){for(var n=t.target.files,o=0;o<n.length;o++)this.filesToUpload.push(n[o]);this.upload()},openUploadModal:function(){document.getElementById("fileInput").click()}},mounted:function(){this.load(this.currentDir)}}),k=x,F=(n("0fc0"),Object(c["a"])(k,C,D,!1,null,"137c0727",null));F.options.__file="Files.vue";var N=F.exports;o["default"].use(h["a"]);var T=new h["a"]({routes:[{path:"/",name:"home",component:y},{path:"/files",name:"about",component:N}]});o["default"].config.productionTip=!1,o["default"].use(p.a),new o["default"]({router:T,render:function(t){return t(m)}}).$mount("#app")},8229:function(t,e,n){},e49c:function(t,e,n){}});
//# sourceMappingURL=app.a9acf21f.js.map